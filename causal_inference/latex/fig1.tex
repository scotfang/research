\begin{tikzpicture}[scale=0.5,>=stealth]
\scriptsize
\draw [thick,->] (-3,0) -- (24,0);\node at (-1,-0.5) {Time (not to scale)};
\fill [cyan!20] (2,0.25) rectangle (24,1);\draw [very thick,dotted,cyan] (2,1) -- (20,1) -- (20,0.25) -- (24,0.25);
\fill [cyan!20] (2,1.25) rectangle (24,2);\draw [very thick,dotted,cyan] (2,1.25) -- (16,1.25) -- (16,2) -- (20,2) -- (20,1.25) -- (24,1.25);
\fill [cyan!20] (2,2.25) rectangle (24,3);\draw [very thick,dotted,cyan] (2,3) -- (24,3);
\fill [cyan!20] (2,3.25) rectangle (24,4);\draw [very thick,dotted,cyan] (2,3.25) -- (6,3.25) -- (6,4) -- (17,4) -- (17,3.25) -- (24,3.25);
\fill [cyan!20] (2,4.25) rectangle (24,5);\draw [very thick,dotted,cyan] (2,4.25) -- (6,4.25) -- (6,5) -- (17,5) -- (17,4.25) -- (24,4.25);
\drawHiddenFluent{1.25}{0.5}{0.4};\node at (1,0.5) [label=left:Agent Thirst] {};
\drawHiddenFluent{1.25}{1.5}{0.4};\node at (1,1.5) [label=left:Cup Status] {};
\drawHiddenFluent{1.25}{2.5}{0.4};\node at (1,2.5) [label=left:Monitor Power] {};
\drawHiddenFluent{1.25}{3.5}{0.4};\node at (1,3.5) [label=left:Monitor Display] {};
\drawHiddenFluent{1.25}{4.5}{0.4};\node at (1,4.5) [label=left:Computer Status] {};
\fill [gray!20] (-3,5.5) rectangle (1.5,10.5);
\drawHiddenFluent{-2.5}{10}{0.4};\node at (-2.25,10) [label=right:Hidden Fluent] {};
\drawAction{-2.5}{9}{0.4};\node at (-2.25,9) [label=right:Agent Action] {};
\drawInferredValue{-2.5}{8}{0.4};\node at (-2.25,8) [label=right:Inferred Value] {};
\drawCausalLink{-2.5}{7}{0.4};\node at (-2.25,7) [label=right:Causal Link] {};
\drawTrigger{-2.5}{6}{0.4};\node at (-2.25,6) [label=right:Trigger] {};
%
\draw [thick,gray] (11,10) -- (6,8.5);
\draw [thick,gray] (11,10) -- (13,8.5);
\draw [thick,gray] (11,10) -- (20,8.5);
\draw [thick,gray] (6,8.5) -- (4,7);
\draw [thick,gray] (6,8.5) -- (6,7);
\draw [thick,gray] (6,8.5) -- (8,7);
\draw [thick,gray] (13,8.5) -- (10,7);
\draw [thick,gray] (13,8.5) -- (12,7);
\draw [thick,gray] (13,8.5) -- (14,7);
\draw [thick,gray] (13,8.5) -- (16,7);
\drawAction{11}{10}{0.4};\node at (11.25,10) [label=right:Activity] {};
\drawAction{6}{8.5}{0.4};\node at (5.75,8.5) [label=left:Use Computer] {};
\drawAction{13}{8.5}{0.4};\node at (13.25,8.5) [label=right:Get Water] {};
\drawAction{20}{8.5}{0.4};\node at (20.25,8.5) [label=right:Drink Water] {};
\drawAction{4}{7}{0.4};\node at (3.75,7) [label=left:\parbox{.5cm}{\centering Sit Down}] {};
\drawAction{6}{7}{0.4};\node at (5,7) [label=below:\parbox{.6cm}{\centering Move Mouse}] {};
\drawAction{8}{7}{0.4};\node at (7.5,7) [label=below:\parbox{1cm}{\centering Use Keyboard}] {};
\drawAction{10}{7}{0.4};\node at (10,6.75) [label=below:Stand Up] {};
\drawAction{12}{7}{0.4};\node at (12,6.75) [label=below:Get Cup] {};
\drawAction{14}{7}{0.4};\node at (14,6.75) [label=below:\parbox{1cm}{\centering Approach Dispenser}] {};
\drawAction{16}{7}{0.4};\node at (16,7) [label=right:\parbox{1cm}{\centering Dispense Water}] {};
%
\node at (17,5.5) [label=right:\parbox{2cm}{\color{gray}* Prediction:\\SCREENSAVER}] {};
\node at (2,4.5) [label=right:ASLEEP] {};
\node at (6,4.5) [label=right:AWAKE] {};
\node at (17,4.5) [label=right:ASLEEP] {};
\node at (2,3.5) [label=right:OFF] {};
\node at (6,3.5) [label=right:ON] {};
\node at (17,3.5) [label=right:OFF] {};
\node at (2,2.5) [label=right:POWERED] {};
\node at (2,1.5) [label=right:LESS FULL] {};
\node at (16,1.5) [label=right:MORE FULL] {};
\node at (20,1.5) [label=right:LESS FULL] {};
\node at (5,0.5) [label=right:THIRSTY] {};
\node at (20,0.5) [label=right:NOT THIRSTY] {};
%
\draw [very thick,red,->] (6,6.5) [out=-75,in=75] to (6,5);
\draw [very thick,red,->] (6,4.5) -- (6,4);
\draw [very thick,red,->] (6,2.75) -- (6,3.25);
\draw [very thick,red,->] (16,6.5) [out=-75,in=75] to (16,2);
\draw [very thick,red,->] (17,4.5) -- (17,4);
\draw [very thick,red,->] (17,2.75) -- (17,3.25);
\draw [very thick,red,->] (20.25,8.25) [out=-45,in=45] to (20,2);
\draw [very thick,red,->] (20.25,8.25) [out=-45,in=45] to (20,1);
%
\draw [thick,blue,->] (8,1.25) [out=100,in=180] to (12.5,8.5);
\draw [thick,blue,->] (8,1) [out=15,in=180] to (12.5,8.5);
\draw [thick,blue,->] (8,1) [out=15,in=-135] to (19.75,8.25);
\end{tikzpicture}